{% extends 'base.html' %}
{% block content %}
<h2 class="mt-3">{% if class_ %}Sửa lớp học{% else %}Thêm lớp học{% endif %}</h2>
<form method="POST" class="mt-3">
    {% if class_ %}
    <input type="hidden" name="class_id" value="{{ class_[0] }}">
    {% endif %}
    <div class="mb-3">
        <label class="form-label">Mã lớp</label>
        <input type="text" name="code" class="form-control" value="{{ class_[1] if class_ else '' }}" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Học phần</label>
        <select name="course_id" class="form-control" required>
            {% for course in courses %}
            <option value="{{ course[0] }}" {% if class_ and class_[2] == course[2] %}selected{% endif %}>{{ course[2] }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Kỳ học</label>
        <select name="semester_id" class="form-control" required>
            {% for semester in semesters %}
            <option value="{{ semester[0] }}" {% if class_ and class_[3] == semester[2] %}selected{% endif %}>{{ semester[2] }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Số tiết</label>
        <input type="number" name="hours" class="form-control" value="{{ class_[4] if class_ else '' }}" required>
    </div>
    <div class="mb-3">
        <label class="form-label">Số sinh viên</label>
        <input type="number" name="student_count" class="form-control" value="{{ class_[5] if class_ else '' }}" required>
    </div>
    <button type="submit" class="btn btn-primary">{% if class_ %}Cập nhật{% else %}Thêm{% endif %}</button>
</form>
{% endblock %}